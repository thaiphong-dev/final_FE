{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useState}from\"react\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import TextInput from\"react-native-web/dist/exports/TextInput\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import EasyButton from\"../../Shared/StyledComponents/EasyButton\";import baseURL from\"../../assets/common/baseUrl\";import axios from\"axios\";import AsyncStorage from\"@react-native-community/async-storage\";import{add}from\"react-native-reanimated\";var _Dimensions$get=Dimensions.get(\"window\"),width=_Dimensions$get.width;var Item=function Item(props){return React.createElement(View,{style:styles.item},React.createElement(Text,null,props.item.name),React.createElement(EasyButton,{danger:true,medium:true,onPress:function onPress(){return props.delete(props.item._id);}},React.createElement(Text,{style:{color:\"white\",fontWeight:\"bold\"}},\"Delete\")));};var Categories=function Categories(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),categoryName=_useState4[0],setCategoryName=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),token=_useState6[0],setToken=_useState6[1];useEffect(function(){AsyncStorage.getItem(\"jwt\").then(function(res){setToken(res);}).catch(function(error){return console.log(error);});axios.get(baseURL+\"categories\").then(function(res){return setCategories(res.data);}).catch(function(error){return alert(\"Error to load categories\");});return function(){setCategories();setToken();};},[]);var addCategory=function addCategory(){var category={name:categoryName};var config={headers:{Authorization:\"Bearer \"+token}};axios.post(baseURL+\"categories\",category,config).then(function(res){return setCategories([].concat(_toConsumableArray(categories),[res.data]));}).catch(function(error){return alert(\"Error to load categories\");});setCategoryName(\"\");};var deleteCategory=function deleteCategory(id){var config={headers:{Authorization:\"Bearer \"+token}};axios.delete(baseURL+\"categories/\"+id,config).then(function(res){var newCategories=categories.filter(function(item){return item.id!==id;});setCategories(newCategories);}).catch(function(error){return alert(\"Error to load categories\");});};return React.createElement(View,{style:{position:\"relative\",height:\"100%\"}},React.createElement(View,{style:{marginBottom:60}},React.createElement(FlatList,{data:categories,renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;return React.createElement(Item,{item:item,index:index,delete:deleteCategory});},keyExtractor:function keyExtractor(item){return item.id;}})),React.createElement(View,{style:styles.bottomBar},React.createElement(View,null,React.createElement(Text,null,\"Add Category\")),React.createElement(View,{style:{width:width/2.5}},React.createElement(TextInput,{value:categoryName,style:styles.input,onChangeText:function onChangeText(text){return setCategoryName(text);}})),React.createElement(View,null,React.createElement(EasyButton,{medium:true,primary:true,onPress:function onPress(){return addCategory();}},React.createElement(Text,{style:{color:\"white\",fontWeight:\"bold\"}},\"Submit\")))));};var styles=StyleSheet.create({bottomBar:{backgroundColor:\"white\",width:width,height:60,padding:2,flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-between\",position:\"absolute\",bottom:0,left:0},input:{height:40,borderColor:\"gray\",borderWidth:1},item:{shadowColor:\"#000\",shadowOffset:{width:0,height:2},shadowOpacity:0.2,shadowRadius:1,elevation:1,padding:5,margin:5,backgroundColor:\"white\",flexDirection:\"row\",alignItems:\"center\",justifyContent:\"space-between\",borderRadius:5}});export default Categories;","map":{"version":3,"names":["React","useEffect","useState","EasyButton","baseURL","axios","AsyncStorage","add","Dimensions","get","width","Item","props","styles","item","name","delete","_id","color","fontWeight","Categories","categories","setCategories","categoryName","setCategoryName","token","setToken","getItem","then","res","catch","error","console","log","data","alert","addCategory","category","config","headers","Authorization","post","deleteCategory","id","newCategories","filter","position","height","marginBottom","index","bottomBar","input","text","StyleSheet","create","backgroundColor","padding","flexDirection","alignItems","justifyContent","bottom","left","borderColor","borderWidth","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","margin","borderRadius"],"sources":["D:/PTIT/do an nam 4/mobile/mern-stack-ecommerce-master/easy-shop/Screens/Admin/Categories.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { \n    View, \n    Text,\n    FlatList,\n    Dimensions,\n    TextInput,\n    StyleSheet \n} from \"react-native\"\nimport EasyButton from \"../../Shared/StyledComponents/EasyButton\"\nimport baseURL from \"../../assets/common/baseUrl\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-community/async-storage\"\nimport { add } from \"react-native-reanimated\";\n\nvar { width } = Dimensions.get(\"window\")\n\nconst Item = (props) => {\n    return (\n        <View style={styles.item}>\n            <Text>{props.item.name}</Text>\n            <EasyButton\n                danger\n                medium\n                onPress={() => props.delete(props.item._id)}\n            >\n                <Text style={{ color: \"white\", fontWeight: \"bold\"}}>Delete</Text>\n            </EasyButton>\n        </View>\n    )\n}\n\nconst Categories = (props) => {\n\n    const [categories, setCategories] = useState([]);\n    const [categoryName, setCategoryName] = useState();\n    const [token, setToken] = useState();\n\n    useEffect(() => {\n        AsyncStorage.getItem(\"jwt\")\n            .then((res) => {\n                setToken(res);\n            })\n            .catch((error) => console.log(error));\n\n        axios\n        .get(`${baseURL}categories`)\n        .then((res) => setCategories(res.data))\n        .catch((error) => alert(\"Error to load categories\"))\n\n        return () => {\n            setCategories();\n            setToken();\n        }\n    }, [])\n\n    const addCategory = () => {\n        const category = {\n            name: categoryName\n        };\n\n        const config = {\n            headers: {\n                Authorization: `Bearer ${token}`,\n            }\n        };\n\n        axios\n        .post(`${baseURL}categories`, category, config)\n        .then((res) => setCategories([...categories, res.data]))\n        .catch((error) => alert(\"Error to load categories\"));\n\n        setCategoryName(\"\");\n    }\n\n    const deleteCategory = (id) => {\n        const config = {\n            headers: {\n                Authorization: `Bearer ${token}`,\n            }\n        };\n\n        axios\n        .delete(`${baseURL}categories/${id}`, config)\n        .then((res) => {\n            const newCategories = categories.filter((item) => item.id !== id);\n            setCategories(newCategories);\n        })\n        .catch((error) => alert(\"Error to load categories\"));\n    }\n\n    return (\n        <View style={{ position: \"relative\", height: \"100%\"}}>\n            <View style={{ marginBottom: 60 }}>\n                <FlatList \n                    data={categories}\n                    renderItem={({ item, index }) => (\n                        <Item item={item} index={index} delete={deleteCategory} />\n                    )}\n                    keyExtractor={(item) => item.id}\n                />\n            </View>\n            <View style={styles.bottomBar}>\n                <View>\n                    <Text>Add Category</Text>\n                </View>\n                <View style={{ width: width / 2.5 }}>\n                    <TextInput \n                        value={categoryName}\n                        style={styles.input}\n                        onChangeText={(text) => setCategoryName(text)}\n                    />\n                </View>\n                <View>\n                    <EasyButton\n                        medium\n                        primary\n                        onPress={() => addCategory()}\n                    >\n                        <Text style={{ color: \"white\", fontWeight: \"bold\"}}>Submit</Text>\n                    </EasyButton>\n                </View>\n            </View>\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    bottomBar: {\n        backgroundColor: \"white\",\n        width: width,\n        height: 60,\n        padding: 2,\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        position: \"absolute\",\n        bottom: 0,\n        left: 0\n    },\n    input: {\n        height: 40,\n        borderColor: \"gray\",\n        borderWidth: 1\n    },\n    item: {\n        shadowColor: \"#000\",\n        shadowOffset: {\n            width: 0,\n            height: 2,\n        },\n        shadowOpacity: 0.2,\n        shadowRadius: 1,\n        elevation: 1,\n        padding: 5,\n        margin: 5,\n        backgroundColor: \"white\",\n        flexDirection: \"row\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        borderRadius: 5\n    }\n})\n\nexport default Categories;"],"mappings":"0IAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,C,wWASA,MAAOC,CAAAA,UAAP,gDACA,MAAOC,CAAAA,OAAP,mCACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,uCAAzB,CACA,OAASC,GAAT,KAAoB,yBAApB,CAEA,oBAAgBC,UAAU,CAACC,GAAX,CAAe,QAAf,CAAhB,CAAMC,KAAN,iBAAMA,KAAN,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAW,CACpB,MACI,qBAAC,IAAD,EAAM,KAAK,CAAEC,MAAM,CAACC,IAApB,EACI,oBAAC,IAAD,MAAOF,KAAK,CAACE,IAAN,CAAWC,IAAlB,CADJ,CAEI,oBAAC,UAAD,EACI,MAAM,KADV,CAEI,MAAM,KAFV,CAGI,OAAO,CAAE,yBAAMH,CAAAA,KAAK,CAACI,MAAN,CAAaJ,KAAK,CAACE,IAAN,CAAWG,GAAxB,CAAN,EAHb,EAKI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAkBC,UAAU,CAAE,MAA9B,CAAb,WALJ,CAFJ,CADJ,CAYH,CAbD,CAeA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACR,KAAD,CAAW,CAE1B,cAAoCV,QAAQ,CAAC,EAAD,CAA5C,wCAAOmB,UAAP,eAAmBC,aAAnB,eACA,eAAwCpB,QAAQ,EAAhD,yCAAOqB,YAAP,eAAqBC,eAArB,eACA,eAA0BtB,QAAQ,EAAlC,yCAAOuB,KAAP,eAAcC,QAAd,eAEAzB,SAAS,CAAC,UAAM,CACZK,YAAY,CAACqB,OAAb,CAAqB,KAArB,EACKC,IADL,CACU,SAACC,GAAD,CAAS,CACXH,QAAQ,CAACG,GAAD,CAAR,CACH,CAHL,EAIKC,KAJL,CAIW,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAJX,EAMA1B,KAAK,CACJI,GADD,CACQL,OADR,eAECwB,IAFD,CAEM,SAACC,GAAD,QAASP,CAAAA,aAAa,CAACO,GAAG,CAACK,IAAL,CAAtB,EAFN,EAGCJ,KAHD,CAGO,SAACC,KAAD,QAAWI,CAAAA,KAAK,CAAC,0BAAD,CAAhB,EAHP,EAKA,MAAO,WAAM,CACTb,aAAa,GACbI,QAAQ,GACX,CAHD,CAIH,CAhBQ,CAgBN,EAhBM,CAAT,CAkBA,GAAMU,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,GAAMC,CAAAA,QAAQ,CAAG,CACbtB,IAAI,CAAEQ,YADO,CAAjB,CAIA,GAAMe,CAAAA,MAAM,CAAG,CACXC,OAAO,CAAE,CACLC,aAAa,WAAYf,KADpB,CADE,CAAf,CAMApB,KAAK,CACJoC,IADD,CACSrC,OADT,cAC8BiC,QAD9B,CACwCC,MADxC,EAECV,IAFD,CAEM,SAACC,GAAD,QAASP,CAAAA,aAAa,8BAAKD,UAAL,GAAiBQ,GAAG,CAACK,IAArB,GAAtB,EAFN,EAGCJ,KAHD,CAGO,SAACC,KAAD,QAAWI,CAAAA,KAAK,CAAC,0BAAD,CAAhB,EAHP,EAKAX,eAAe,CAAC,EAAD,CAAf,CACH,CAjBD,CAmBA,GAAMkB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,EAAD,CAAQ,CAC3B,GAAML,CAAAA,MAAM,CAAG,CACXC,OAAO,CAAE,CACLC,aAAa,WAAYf,KADpB,CADE,CAAf,CAMApB,KAAK,CACJW,MADD,CACWZ,OADX,eACgCuC,EADhC,CACsCL,MADtC,EAECV,IAFD,CAEM,SAACC,GAAD,CAAS,CACX,GAAMe,CAAAA,aAAa,CAAGvB,UAAU,CAACwB,MAAX,CAAkB,SAAC/B,IAAD,QAAUA,CAAAA,IAAI,CAAC6B,EAAL,GAAYA,EAAtB,EAAlB,CAAtB,CACArB,aAAa,CAACsB,aAAD,CAAb,CACH,CALD,EAMCd,KAND,CAMO,SAACC,KAAD,QAAWI,CAAAA,KAAK,CAAC,0BAAD,CAAhB,EANP,EAOH,CAdD,CAgBA,MACI,qBAAC,IAAD,EAAM,KAAK,CAAE,CAAEW,QAAQ,CAAE,UAAZ,CAAwBC,MAAM,CAAE,MAAhC,CAAb,EACI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAEC,YAAY,CAAE,EAAhB,CAAb,EACI,oBAAC,QAAD,EACI,IAAI,CAAE3B,UADV,CAEI,UAAU,CAAE,6BAAGP,CAAAA,IAAH,MAAGA,IAAH,CAASmC,KAAT,MAASA,KAAT,OACR,qBAAC,IAAD,EAAM,IAAI,CAAEnC,IAAZ,CAAkB,KAAK,CAAEmC,KAAzB,CAAgC,MAAM,CAAEP,cAAxC,EADQ,EAFhB,CAKI,YAAY,CAAE,sBAAC5B,IAAD,QAAUA,CAAAA,IAAI,CAAC6B,EAAf,EALlB,EADJ,CADJ,CAUI,oBAAC,IAAD,EAAM,KAAK,CAAE9B,MAAM,CAACqC,SAApB,EACI,oBAAC,IAAD,MACI,oBAAC,IAAD,qBADJ,CADJ,CAII,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAExC,KAAK,CAAEA,KAAK,CAAG,GAAjB,CAAb,EACI,oBAAC,SAAD,EACI,KAAK,CAAEa,YADX,CAEI,KAAK,CAAEV,MAAM,CAACsC,KAFlB,CAGI,YAAY,CAAE,sBAACC,IAAD,QAAU5B,CAAAA,eAAe,CAAC4B,IAAD,CAAzB,EAHlB,EADJ,CAJJ,CAWI,oBAAC,IAAD,MACI,oBAAC,UAAD,EACI,MAAM,KADV,CAEI,OAAO,KAFX,CAGI,OAAO,CAAE,yBAAMhB,CAAAA,WAAW,EAAjB,EAHb,EAKI,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAElB,KAAK,CAAE,OAAT,CAAkBC,UAAU,CAAE,MAA9B,CAAb,WALJ,CADJ,CAXJ,CAVJ,CADJ,CAkCH,CA7FD,CA+FA,GAAMN,CAAAA,MAAM,CAAGwC,UAAU,CAACC,MAAX,CAAkB,CAC7BJ,SAAS,CAAE,CACPK,eAAe,CAAE,OADV,CAEP7C,KAAK,CAAEA,KAFA,CAGPqC,MAAM,CAAE,EAHD,CAIPS,OAAO,CAAE,CAJF,CAKPC,aAAa,CAAE,KALR,CAMPC,UAAU,CAAE,QANL,CAOPC,cAAc,CAAE,eAPT,CAQPb,QAAQ,CAAE,UARH,CASPc,MAAM,CAAE,CATD,CAUPC,IAAI,CAAE,CAVC,CADkB,CAa7BV,KAAK,CAAE,CACHJ,MAAM,CAAE,EADL,CAEHe,WAAW,CAAE,MAFV,CAGHC,WAAW,CAAE,CAHV,CAbsB,CAkB7BjD,IAAI,CAAE,CACFkD,WAAW,CAAE,MADX,CAEFC,YAAY,CAAE,CACVvD,KAAK,CAAE,CADG,CAEVqC,MAAM,CAAE,CAFE,CAFZ,CAMFmB,aAAa,CAAE,GANb,CAOFC,YAAY,CAAE,CAPZ,CAQFC,SAAS,CAAE,CART,CASFZ,OAAO,CAAE,CATP,CAUFa,MAAM,CAAE,CAVN,CAWFd,eAAe,CAAE,OAXf,CAYFE,aAAa,CAAE,KAZb,CAaFC,UAAU,CAAE,QAbV,CAcFC,cAAc,CAAE,eAdd,CAeFW,YAAY,CAAE,CAfZ,CAlBuB,CAAlB,CAAf,CAqCA,cAAelD,CAAAA,UAAf"},"metadata":{},"sourceType":"module"}