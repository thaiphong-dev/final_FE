{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useState,useContext}from'react';import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Button from\"react-native-web/dist/exports/Button\";import{Item,Picker,Toast}from'native-base';import Icon from\"@expo/vector-icons/FontAwesome\";import FormContainer from\"../../../Shared/Form/FormContainer\";import Input from\"../../../Shared/Form/Input\";import{KeyboardAwareScrollView}from'react-native-keyboard-aware-scroll-view';import AuthGlobal from\"../../../Context/store/AuthGlobal\";import{connect}from'react-redux';var countries=require(\"../../../assets/countries.json\");var Checkout=function Checkout(props){var context=useContext(AuthGlobal);var _useState=useState(),_useState2=_slicedToArray(_useState,2),orderItems=_useState2[0],setOrderItems=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),address=_useState4[0],setAddress=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),address2=_useState6[0],setAddress2=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),city=_useState8[0],setCity=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),zip=_useState10[0],setZip=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),country=_useState12[0],setCountry=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),phone=_useState14[0],setPhone=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),user=_useState16[0],setUser=_useState16[1];useEffect(function(){setOrderItems(props.cartItems);if(context.stateUser.isAuthenticated){setUser(context.stateUser.user.sub);}else{props.navigation.navigate(\"Cart\");Toast.show({topOffset:60,type:\"error\",text1:\"Please Login to Checkout\",text2:\"\"});}return function(){setOrderItems();};},[]);var checkOut=function checkOut(){console.log(\"orders\",orderItems);var order={city:city,country:country,dateOrdered:Date.now(),orderItems:orderItems,phone:phone,shippingAddress1:address,shippingAddress2:address2,status:\"3\",user:user,zip:zip};props.navigation.navigate(\"Payment\",{order:order});};return React.createElement(KeyboardAwareScrollView,{viewIsInsideTabBar:true,extraHeight:200,enableOnAndroid:true},React.createElement(FormContainer,{title:\"Shipping Address\"},React.createElement(Input,{placeholder:\"Phone\",name:\"phone\",value:phone,keyboardType:\"numeric\",onChangeText:function onChangeText(text){return setPhone(text);}}),React.createElement(Input,{placeholder:\"Shipping Address 1\",name:\"ShippingAddress1\",value:address,onChangeText:function onChangeText(text){return setAddress(text);}}),React.createElement(Input,{placeholder:\"Shipping Address 2\",name:\"ShippingAddress2\",value:address2,onChangeText:function onChangeText(text){return setAddress2(text);}}),React.createElement(Input,{placeholder:\"City\",name:\"city\",value:city,onChangeText:function onChangeText(text){return setCity(text);}}),React.createElement(Input,{placeholder:\"Zip Code\",name:\"zip\",value:zip,keyboardType:\"numeric\",onChangeText:function onChangeText(text){return setZip(text);}}),React.createElement(Item,{picker:true},React.createElement(Picker,{mode:\"dropdown\",iosIcon:React.createElement(Icon,{name:\"arrow-down\",color:\"#007aff\"}),style:{width:undefined},selectedValue:country,placeholder:\"Select your country\",placeholderStyle:{color:'#007aff'},placeholderIconColor:\"#007aff\",onValueChange:function onValueChange(e){return setCountry(e);}},countries.map(function(c){return React.createElement(Picker.Item,{key:c.code,label:c.name,value:c.name});}))),React.createElement(View,{style:{width:'80%',alignItems:\"center\"}},React.createElement(Button,{title:\"Confirm\",onPress:function onPress(){return checkOut();}}))));};var mapStateToProps=function mapStateToProps(state){var cartItems=state.cartItems;return{cartItems:cartItems};};export default connect(mapStateToProps)(Checkout);","map":{"version":3,"names":["React","useEffect","useState","useContext","Item","Picker","Toast","Icon","FormContainer","Input","KeyboardAwareScrollView","AuthGlobal","connect","countries","require","Checkout","props","context","orderItems","setOrderItems","address","setAddress","address2","setAddress2","city","setCity","zip","setZip","country","setCountry","phone","setPhone","user","setUser","cartItems","stateUser","isAuthenticated","sub","navigation","navigate","show","topOffset","type","text1","text2","checkOut","console","log","order","dateOrdered","Date","now","shippingAddress1","shippingAddress2","status","text","width","undefined","color","e","map","c","code","name","alignItems","mapStateToProps","state"],"sources":["D:/PTIT/do an nam 4/mobile/mern-stack-ecommerce-master/easy-shop/Screens/Cart/Checkout/Checkout.js"],"sourcesContent":["import React, { useEffect, useState, useContext} from 'react'\nimport { Text, View, Button } from 'react-native'\nimport { Item, Picker, Toast } from 'native-base'\nimport Icon from 'react-native-vector-icons/FontAwesome'\nimport FormContainer from '../../../Shared/Form/FormContainer'\nimport Input from '../../../Shared/Form/Input'\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view'\nimport AuthGlobal from \"../../../Context/store/AuthGlobal\"\n\nimport { connect } from 'react-redux'\n\nconst countries = require(\"../../../assets/countries.json\");\n\nconst Checkout = (props) => {\n    const context = useContext(AuthGlobal)\n\n    const [ orderItems, setOrderItems ] = useState();\n    const [ address, setAddress ] = useState();\n    const [ address2, setAddress2 ] = useState();\n    const [ city, setCity ] = useState();\n    const [ zip, setZip ] = useState();\n    const [ country, setCountry ] = useState();\n    const [ phone, setPhone ] = useState();\n    const [ user, setUser ] = useState();\n\n    useEffect(() => {\n        setOrderItems(props.cartItems)\n\n        if(context.stateUser.isAuthenticated) {\n            setUser(context.stateUser.user.sub)\n        } else {\n            props.navigation.navigate(\"Cart\");\n            Toast.show({\n                topOffset: 60,\n                type: \"error\",\n                text1: \"Please Login to Checkout\",\n                text2: \"\"\n            });\n        }\n\n        return () => {\n            setOrderItems();\n        }\n    }, [])\n\n    const checkOut = () => {\n        console.log(\"orders\", orderItems)\n        let order = {\n            city,\n            country,\n            dateOrdered: Date.now(),\n            orderItems,\n            phone,\n            shippingAddress1: address,\n            shippingAddress2: address2,\n            status: \"3\",\n            user,\n            zip,\n        }\n\n        props.navigation.navigate(\"Payment\", {order: order })\n    }\n\n    return (\n        <KeyboardAwareScrollView\n            viewIsInsideTabBar={true}\n            extraHeight={200}\n            enableOnAndroid={true}\n        >\n            <FormContainer title={\"Shipping Address\"}>\n                <Input\n                    placeholder={\"Phone\"}\n                    name={\"phone\"}\n                    value={phone}\n                    keyboardType={\"numeric\"}\n                    onChangeText={(text) => setPhone(text)}\n                />\n                   <Input\n                    placeholder={\"Shipping Address 1\"}\n                    name={\"ShippingAddress1\"}\n                    value={address}\n                    onChangeText={(text) => setAddress(text)}\n                />\n                   <Input\n                    placeholder={\"Shipping Address 2\"}\n                    name={\"ShippingAddress2\"}\n                    value={address2}\n                    onChangeText={(text) => setAddress2(text)}\n                />\n                   <Input\n                    placeholder={\"City\"}\n                    name={\"city\"}\n                    value={city}\n                    onChangeText={(text) => setCity(text)}\n                />\n                   <Input\n                    placeholder={\"Zip Code\"}\n                    name={\"zip\"}\n                    value={zip}\n                    keyboardType={\"numeric\"}\n                    onChangeText={(text) => setZip(text)}\n                />\n                <Item picker>\n                    <Picker\n                        mode=\"dropdown\"\n                        iosIcon={<Icon name=\"arrow-down\" color={\"#007aff\"} />}\n                        style={{ width: undefined }}\n                        selectedValue={country}\n                        placeholder=\"Select your country\"\n                        placeholderStyle={{ color: '#007aff' }}\n                        placeholderIconColor=\"#007aff\"\n                        onValueChange={(e) => setCountry(e)}\n                    >\n                        {countries.map((c) => {\n                            return <Picker.Item \n                                    key={c.code} \n                                    label={c.name}\n                                    value={c.name}\n                                    />\n                        })}\n                    </Picker>\n                </Item>\n                <View style={{ width: '80%', alignItems: \"center\" }}>\n                    <Button title=\"Confirm\" onPress={() => checkOut()}/>\n                </View>\n            </FormContainer>\n        </KeyboardAwareScrollView>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    const { cartItems } = state;\n    return {\n        cartItems: cartItems,\n    }\n}\n\nexport default connect(mapStateToProps)(Checkout)"],"mappings":"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"},"metadata":{},"sourceType":"module"}