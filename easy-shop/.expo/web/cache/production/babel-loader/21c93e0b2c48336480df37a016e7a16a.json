{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useEffect}from'react';import Image from\"react-native-web/dist/exports/Image\";import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Button from\"react-native-web/dist/exports/Button\";import{Left,Right,Container,H1}from'native-base';import Toast from'react-native-toast-message';import EasyButton from\"../../Shared/StyledComponents/EasyButton\";import TrafficLight from\"../../Shared/StyledComponents/TrafficLight\";import{connect}from'react-redux';import*as actions from\"../../Redux/Actions/cartActions\";var SingleProduct=function SingleProduct(props){var _useState=useState(props.route.params.item),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),availability=_useState4[0],setAvailability=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),availabilityText=_useState6[0],setAvailabilityText=_useState6[1];useEffect(function(){if(props.route.params.item.countInStock==0){setAvailability(React.createElement(TrafficLight,{unavailable:true}));setAvailabilityText(\"Unvailable\");}else if(props.route.params.item.countInStock<=5){setAvailability(React.createElement(TrafficLight,{limited:true}));setAvailabilityText(\"Limited Stock\");}else{setAvailability(React.createElement(TrafficLight,{available:true}));setAvailabilityText(\"Available\");}return function(){setAvailability(null);setAvailabilityText(\"\");};},[]);return React.createElement(Container,{style:styles.container},React.createElement(ScrollView,{style:{marginBottom:80,padding:5}},React.createElement(View,null,React.createElement(Image,{source:{uri:item.image?item.image:'https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png'},resizeMode:\"contain\",style:styles.image})),React.createElement(View,{style:styles.contentContainer},React.createElement(H1,{style:styles.contentHeader},item.name),React.createElement(Text,{style:styles.contentText},item.brand)),React.createElement(View,{style:styles.availabilityContainer},React.createElement(View,{style:styles.availability},React.createElement(Text,{style:{marginRight:10}},\"Availability: \",availabilityText),availability),React.createElement(Text,null,item.description))),React.createElement(View,{style:styles.bottomContainer},React.createElement(Left,null,React.createElement(Text,{style:styles.price},\"$ \",item.price)),React.createElement(Right,null,React.createElement(EasyButton,{primary:true,medium:true,onPress:function onPress(){props.addItemToCart(item.id),Toast.show({topOffset:60,type:\"success\",text1:item.name+\" added to Cart\",text2:\"Go to your cart to complete order\"});}},React.createElement(Text,{style:{color:'white'}},\"Add\")))));};var mapToDispatchToProps=function mapToDispatchToProps(dispatch){return{addItemToCart:function addItemToCart(product){return dispatch(actions.addToCart({quantity:1,product:product}));}};};var styles=StyleSheet.create({container:{position:'relative',height:'100%'},imageContainer:{backgroundColor:'white',padding:0,margin:0},image:{width:'100%',height:250},contentContainer:{marginTop:20,justifyContent:'center',alignItems:'center'},contentHeader:{fontWeight:'bold',marginBottom:20},contentText:{fontSize:18,fontWeight:'bold',marginBottom:20},bottomContainer:{flexDirection:'row',position:'absolute',bottom:0,left:0,backgroundColor:'white'},price:{fontSize:24,margin:20,color:'red'},availabilityContainer:{marginBottom:20,alignItems:\"center\"},availability:{flexDirection:'row',marginBottom:10}});export default connect(null,mapToDispatchToProps)(SingleProduct);","map":{"version":3,"names":["React","useState","useEffect","Left","Right","Container","H1","Toast","EasyButton","TrafficLight","connect","actions","SingleProduct","props","route","params","item","setItem","availability","setAvailability","availabilityText","setAvailabilityText","countInStock","styles","container","marginBottom","padding","uri","image","contentContainer","contentHeader","name","contentText","brand","availabilityContainer","marginRight","description","bottomContainer","price","addItemToCart","id","show","topOffset","type","text1","text2","color","mapToDispatchToProps","dispatch","product","addToCart","quantity","StyleSheet","create","position","height","imageContainer","backgroundColor","margin","width","marginTop","justifyContent","alignItems","fontWeight","fontSize","flexDirection","bottom","left"],"sources":["D:/PTIT/do an nam 4/mobile/mern-stack-ecommerce-master/easy-shop/Screens/Products/SingleProduct.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Image, View, StyleSheet, Text, ScrollView, Button } from 'react-native';\nimport { Left, Right, Container, H1 } from 'native-base';\nimport Toast from 'react-native-toast-message';\nimport EasyButton from '../../Shared/StyledComponents/EasyButton'\nimport TrafficLight from '../../Shared/StyledComponents/TrafficLight'\n\nimport { connect } from 'react-redux';\nimport * as actions from '../../Redux/Actions/cartActions';\n\nconst SingleProduct = (props) => {\n\n    const [item, setItem] = useState(props.route.params.item);\n    const [availability, setAvailability] = useState(null);\n    const [availabilityText, setAvailabilityText] = useState(\"\")\n\n    useEffect(() => {\n        if (props.route.params.item.countInStock == 0) {\n            setAvailability(<TrafficLight unavailable></TrafficLight>);\n            setAvailabilityText(\"Unvailable\")\n        } else if (props.route.params.item.countInStock <= 5) {\n            setAvailability(<TrafficLight limited></TrafficLight>);\n            setAvailabilityText(\"Limited Stock\")\n        } else {\n            setAvailability(<TrafficLight available></TrafficLight>);\n            setAvailabilityText(\"Available\")\n        }\n\n        return () => {\n            setAvailability(null);\n            setAvailabilityText(\"\");\n        }\n    }, [])\n\n    return (\n        <Container style={styles.container}>\n            <ScrollView style={{ marginBottom: 80, padding: 5 }}>\n                <View>\n                    <Image \n                        source={{\n                            uri: item.image ? item.image \n                            : 'https://cdn.pixabay.com/photo/2012/04/01/17/29/box-23649_960_720.png'\n                        }}\n                        resizeMode=\"contain\"\n                        style={styles.image}\n                    />\n                </View>\n                <View style={styles.contentContainer}>\n                    <H1 style={styles.contentHeader}>{item.name}</H1>\n                    <Text style={styles.contentText}>{item.brand}</Text>\n                </View>\n                <View style={styles.availabilityContainer}>\n                    <View style={styles.availability}>\n                        <Text style={{ marginRight: 10 }}>\n                            Availability: {availabilityText}\n                        </Text>\n                        {availability}\n                    </View>\n                    <Text>{item.description}</Text>\n                </View>\n            </ScrollView>\n\n            <View style={styles.bottomContainer}>\n                <Left>\n                    <Text style={styles.price}>$ {item.price}</Text>\n                </Left>\n                <Right>\n                   <EasyButton \n                   primary\n                   medium\n                   onPress={() => {props.addItemToCart(item.id),\n                        Toast.show({\n                            topOffset: 60,\n                            type: \"success\",\n                            text1: `${item.name} added to Cart`,\n                            text2: \"Go to your cart to complete order\"\n                        })\n                }}\n                   >\n                       <Text style={{ color: 'white'}}>Add</Text>\n                   </EasyButton>\n                </Right>\n            </View>\n        </Container>\n    )\n\n}\n\nconst mapToDispatchToProps = (dispatch) => {\n    return {\n        addItemToCart: (product) => \n            dispatch(actions.addToCart({quantity: 1, product}))\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        position: 'relative',\n        height: '100%'\n    },\n    imageContainer: {\n        backgroundColor: 'white',\n        padding: 0,\n        margin: 0\n    },\n    image: {\n        width: '100%',\n        height: 250\n    },\n    contentContainer: {\n        marginTop: 20,\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    contentHeader: {\n        fontWeight: 'bold',\n        marginBottom: 20\n    },\n    contentText: {\n        fontSize: 18,\n        fontWeight: 'bold',\n        marginBottom: 20\n    },\n    bottomContainer: {\n        flexDirection: 'row',\n        position: 'absolute',\n        bottom: 0,\n        left: 0,\n        backgroundColor: 'white'\n    },\n    price: {\n        fontSize: 24,\n        margin: 20,\n        color: 'red'\n    },\n    availabilityContainer: {\n        marginBottom: 20,\n        alignItems: \"center\"\n    },\n    availability: {\n        flexDirection: 'row',\n        marginBottom: 10,\n    }\n})\n\nexport default connect(null, mapToDispatchToProps)(SingleProduct);"],"mappings":"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"},"metadata":{},"sourceType":"module"}