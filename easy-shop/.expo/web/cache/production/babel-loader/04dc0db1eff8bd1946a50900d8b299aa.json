{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}import invariant from'fbjs/lib/invariant';import NativeModules from\"react-native-web/dist/exports/NativeModules\";import{val}from\"../val\";import{adapt,createAnimatedBlock as block}from\"./AnimatedBlock\";import{createAnimatedCall as call}from\"./AnimatedCall\";import AnimatedNode from\"./AnimatedNode\";var AnimatedDebug=function(_AnimatedNode){_inherits(AnimatedDebug,_AnimatedNode);var _super=_createSuper(AnimatedDebug);function AnimatedDebug(message,value){var _this;_classCallCheck(this,AnimatedDebug);invariant(typeof message==='string',\"Reanimated: Animated.debug node first argument should be of type string but got \".concat(message));invariant(value instanceof AnimatedNode,\"Reanimated: Animated.debug node second argument should be of type AnimatedNode but got \".concat(value));_this=_super.call(this,{type:'debug',message:message,value:value},[value]);_defineProperty(_assertThisInitialized(_this),\"_message\",void 0);_defineProperty(_assertThisInitialized(_this),\"_value\",void 0);_this._message=message;_this._value=value;return _this;}_createClass(AnimatedDebug,[{key:\"toString\",value:function toString(){return\"AnimatedDebug, id: \".concat(this.__nodeID);}},{key:\"__onEvaluate\",value:function __onEvaluate(){var value=val(this._value);console.log(this._message,value);return value;}}]);return AnimatedDebug;}(AnimatedNode);export function createAnimatedDebug(message,value){if(__DEV__){var _NativeModules$Native,_NativeModules$Native2,_NativeModules$Native3;var runningInRemoteDebugger=typeof atob!=='undefined';var runningInExpoShell=((_NativeModules$Native=NativeModules.NativeUnimoduleProxy)===null||_NativeModules$Native===void 0?void 0:(_NativeModules$Native2=_NativeModules$Native.modulesConstants)===null||_NativeModules$Native2===void 0?void 0:(_NativeModules$Native3=_NativeModules$Native2.ExponentConstants)===null||_NativeModules$Native3===void 0?void 0:_NativeModules$Native3.executionEnvironment)==='storeClient';if(runningInRemoteDebugger||runningInExpoShell){return block([call([value],function(_ref){var _ref2=_slicedToArray(_ref,1),a=_ref2[0];return console.log(\"\".concat(message,\" \").concat(a));}),value]);}else{return new AnimatedDebug(message,adapt(value));}}return value;}","map":{"version":3,"sources":["AnimatedDebug.js"],"names":["createAnimatedBlock","createAnimatedCall","constructor","invariant","value","type","message","toString","__onEvaluate","val","console","runningInRemoteDebugger","runningInExpoShell","block","call","adapt"],"mappings":"60CAAA,MAAA,CAAA,SAAA,KAAA,oBAAA,C,uEAEA,OAAA,GAAA,cACA,OAAA,KAAA,CAAgBA,mBAAmB,GAAnC,CAAA,KAAA,uBACA,OAASC,kBAAkB,GAA3B,CAAA,IAAA,sBACA,MAAA,CAAA,YAAA,sB,GAEA,CAAA,a,uGAIEC,uBAAW,OAAXA,CAAW,KAAXA,CAA4B,+CAC1BC,SAAS,CACP,MAAA,CAAA,OAAA,GADO,QAAA,CAAA,mFAAA,MAAA,CAATA,OAAS,CAAA,CAATA,CAIAA,SAAS,CACPC,KAAK,WADE,CAAA,YAAA,CAAA,0FAAA,MAAA,CAATD,KAAS,CAAA,CAATA,CAIA,uBAAM,CAAEE,IAAI,CAAN,OAAA,CAAiBC,OAAjB,CAAiBA,OAAjB,CAA0BF,KAAAA,CAAAA,KAA1B,CAAN,CAAyC,CAAzC,KAAyC,CAAzC,EAT0B,eAAA,+BAAA,UAAA,CAAA,IAAA,EAAA,CAAA,CAAA,eAAA,+BAAA,QAAA,CAAA,IAAA,EAAA,CAAA,CAU1B,MAAA,QAAA,CAAA,OAAA,CACA,MAAA,MAAA,CAAA,KAAA,CAX0B,aAY3B,C,kDAEDG,mBAAW,CACT,MAAA,sBAAA,MAAA,CAA6B,KAA7B,QAAA,CAAA,CACD,C,4BAEDC,uBAAe,CACb,GAAMJ,CAAAA,KAAK,CAAGK,GAAG,CAAC,KAAlB,MAAiB,CAAjB,CACAC,OAAO,CAAPA,GAAAA,CAAY,KAAZA,QAAAA,CAAAA,KAAAA,EACA,MAAA,CAAA,KAAA,CACD,C,2BA1BH,Y,EA6BA,MAAO,SAAA,CAAA,mBAAA,CAAA,OAAA,CAAA,KAAA,CAA6C,CAClD,GAAA,OAAA,CAAa,CAAA,GAAA,CAAA,qBAAA,CAAA,sBAAA,CAAA,sBAAA,CAGX,GAAMC,CAAAA,uBAAuB,CAAG,MAAA,CAAA,IAAA,GAHrB,WAGX,CAIA,GAAMC,CAAAA,kBAAkB,CACtB,CAAA,CAAA,qBAAA,CAAA,aAAa,CAAb,oBAAA,IAAA,IAAA,EAAA,qBAAA,GAAA,IAAA,EAAA,CAAA,IAAA,EAAA,CAAA,CAAA,sBAAA,CAAA,qBAAA,CAAA,gBAAA,IAAA,IAAA,EAAA,sBAAA,GAAA,IAAA,EAAA,CAAA,IAAA,EAAA,CAAA,CAAA,sBAAA,CAAA,sBAAA,CAAA,iBAAA,IAAA,IAAA,EAAA,sBAAA,GAAA,IAAA,EAAA,CAAA,IAAA,EAAA,CAAA,sBAAA,CAAA,oBAAA,IADF,aAAA,CAIA,GAAID,uBAAuB,EAA3B,kBAAA,CAAmD,CAGjD,MAAOE,CAAAA,KAAK,CAAC,CACXC,IAAI,CAAC,CAAD,KAAC,CAAD,CAAU,gDAAA,CAAA,gBAASJ,CAAAA,OAAO,CAAPA,GAAAA,CAAAA,GAAAA,MAAAA,CAAAA,OAAAA,CAAAA,GAAAA,EAAAA,MAAAA,CADZ,CACYA,CAAAA,CAAT,EAAV,CADO,CAAb,KAAa,CAAD,CAAZ,CAHF,CAAA,IAOO,CACL,MAAO,IAAA,CAAA,aAAA,CAAA,OAAA,CAA2BK,KAAK,CAAvC,KAAuC,CAAhC,CAAP,CACD,CArB+C,CAwBlD,MAAA,CAAA,KAAA,CACD","sourcesContent":["import invariant from 'fbjs/lib/invariant';\nimport { NativeModules } from 'react-native';\nimport { val } from '../val';\nimport { adapt, createAnimatedBlock as block } from './AnimatedBlock';\nimport { createAnimatedCall as call } from './AnimatedCall';\nimport AnimatedNode from './AnimatedNode';\n\nclass AnimatedDebug extends AnimatedNode {\n  _message;\n  _value;\n\n  constructor(message, value) {\n    invariant(\n      typeof message === 'string',\n      `Reanimated: Animated.debug node first argument should be of type string but got ${message}`\n    );\n    invariant(\n      value instanceof AnimatedNode,\n      `Reanimated: Animated.debug node second argument should be of type AnimatedNode but got ${value}`\n    );\n    super({ type: 'debug', message, value }, [value]);\n    this._message = message;\n    this._value = value;\n  }\n\n  toString() {\n    return `AnimatedDebug, id: ${this.__nodeID}`;\n  }\n\n  __onEvaluate() {\n    const value = val(this._value);\n    console.log(this._message, value);\n    return value;\n  }\n}\n\nexport function createAnimatedDebug(message, value) {\n  if (__DEV__) {\n    // hack to detect if app is running in remote debugger\n    // https://stackoverflow.com/questions/39022216\n    const runningInRemoteDebugger = typeof atob !== 'undefined';\n\n    // read the executionEnvironment off of expo-constants without explicitly\n    // depending on the package\n    const runningInExpoShell =\n      NativeModules.NativeUnimoduleProxy?.modulesConstants?.ExponentConstants\n        ?.executionEnvironment === 'storeClient';\n\n    if (runningInRemoteDebugger || runningInExpoShell) {\n      // When running in expo or remote debugger we use JS console.log to output variables\n      // otherwise we output to the native console using native debug node\n      return block([\n        call([value], ([a]) => console.log(`${message} ${a}`)),\n        value,\n      ]);\n    } else {\n      return new AnimatedDebug(message, adapt(value));\n    }\n  }\n  // Debugging is disabled in PROD\n  return value;\n}\n"]},"metadata":{},"sourceType":"module"}